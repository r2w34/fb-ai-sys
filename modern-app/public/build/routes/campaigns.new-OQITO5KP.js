import{a as ie,b as oe}from"/build/_shared/chunk-F4Y5DWSE.js";import{A as j,B as F,C as L,D as M,E as ne,a as ae,g as a,i as g,j as m,k as b,l as r,n as l,o as P,p as h,r as D,v as _,x as v,z as R}from"/build/_shared/chunk-GCFUY6YW.js";import{a as te,d as I,f as C,j as N,k as O,o as B}from"/build/_shared/chunk-PDV4PDDZ.js";import{b as w,c as i}from"/build/_shared/chunk-Q3IECNXJ.js";var $=w((ge,E)=>{E.exports={}});var V=w((me,J)=>{J.exports={}});var G=i(ae(),1);var W=i(ne(),1),se=i(ie(),1),S=i(oe(),1),re=i($(),1),ce=i(V(),1),o=i(te(),1),e=i(B(),1);function z(){let{store:de,products:K}=N(),n=O(),c=I(),[d,H]=(0,o.useState)([]),[u,U]=(0,o.useState)(""),[f,Y]=(0,o.useState)("CONVERSIONS"),[y,Q]=(0,o.useState)(""),[k,X]=(0,o.useState)("50"),[p,Z]=(0,o.useState)(!1),T=c.state==="submitting"&&c.formData?.get("_action")==="generate_ai_content",x=c.state==="submitting"&&c.formData?.get("_action")==="create_campaign",A=(0,o.useCallback)(t=>{H(s=>s.includes(t)?s.filter(ee=>ee!==t):[...s,t])},[]),q=[{label:"Conversions",value:"CONVERSIONS"},{label:"Traffic",value:"LINK_CLICKS"},{label:"Reach",value:"REACH"},{label:"Brand Awareness",value:"BRAND_AWARENESS"},{label:"Video Views",value:"VIDEO_VIEWS"}];return(0,e.jsxs)(R,{children:[(0,e.jsx)(W.TitleBar,{title:"Create AI Campaign"}),(0,e.jsx)(v,{children:(0,e.jsx)(v.Section,{children:(0,e.jsxs)(r,{gap:"500",children:[n?.error&&(0,e.jsx)(h,{tone:"critical",children:(0,e.jsx)("p",{children:n.error})}),(0,e.jsx)(m,{children:(0,e.jsxs)(r,{gap:"400",children:[(0,e.jsx)(a,{variant:"headingMd",as:"h2",children:"Step 1: Select Products"}),(0,e.jsx)(a,{tone:"subdued",children:"Choose the products you want to advertise in this campaign."}),(0,e.jsx)(L,{resourceName:{singular:"product",plural:"products"},items:K,renderItem:t=>{let s=t.images?.[0]?(0,e.jsx)(M,{source:t.images[0].src,alt:t.images[0].alt||t.title,size:"small"}):void 0;return(0,e.jsx)(j,{id:t.id,media:s,accessibilityLabel:`Select ${t.title}`,onClick:()=>A(t.id),children:(0,e.jsxs)(b,{align:"space-between",children:[(0,e.jsxs)(r,{gap:"100",children:[(0,e.jsx)(a,{variant:"bodyMd",fontWeight:"bold",children:t.title}),(0,e.jsxs)(a,{tone:"subdued",children:["$",t.price?.toFixed(2)," \u2022 ",t.productType]})]}),(0,e.jsx)(P,{checked:d.includes(t.id),onChange:()=>A(t.id)})]})})}})]})}),(0,e.jsx)(m,{children:(0,e.jsxs)(C,{method:"post",children:[(0,e.jsx)("input",{type:"hidden",name:"_action",value:"generate_ai_content"}),(0,e.jsx)("input",{type:"hidden",name:"selectedProducts",value:JSON.stringify(d)}),(0,e.jsxs)(_,{children:[(0,e.jsx)(a,{variant:"headingMd",as:"h2",children:"Step 2: Campaign Configuration"}),(0,e.jsx)(l,{label:"Campaign Name",value:u,onChange:U,name:"campaignName",placeholder:"e.g., Summer Collection 2024",helpText:"Choose a descriptive name for your campaign"}),(0,e.jsx)(F,{label:"Campaign Objective",options:q,value:f,onChange:Y,name:"campaignObjective",helpText:"What do you want to achieve with this campaign?"}),(0,e.jsx)(l,{label:"Target Audience Description",value:y,onChange:Q,name:"targetAudience",multiline:3,placeholder:"e.g., Women aged 25-45 interested in fashion and lifestyle, living in urban areas",helpText:"Describe your ideal customer in detail"}),(0,e.jsx)(l,{label:"Daily Budget ($)",type:"number",value:k,onChange:X,name:"budget",min:"5",step:"5",helpText:"Recommended minimum: $20/day"}),(0,e.jsx)(g,{variant:"primary",submit:!0,loading:T,disabled:d.length===0||!y||!u,children:T?"Generating AI Content...":"Generate AI Campaign Content"})]})]})}),n?.aiContent&&(0,e.jsx)(m,{children:(0,e.jsxs)(r,{gap:"400",children:[(0,e.jsx)(a,{variant:"headingMd",as:"h2",children:"Step 3: Review AI-Generated Content"}),(0,e.jsx)(h,{tone:"success",children:(0,e.jsx)("p",{children:"AI has generated optimized campaign content based on your products and target audience!"})}),(0,e.jsx)(D,{open:p,id:"ai-content-collapsible",transition:{duration:"150ms",timingFunction:"ease"},children:(0,e.jsxs)(r,{gap:"400",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(a,{variant:"headingSm",as:"h4",children:"Campaign Strategy"}),(0,e.jsx)(a,{children:n.aiContent.campaignDescription})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(a,{variant:"headingSm",as:"h4",children:"Recommended Budget"}),(0,e.jsxs)(a,{children:["$",n.aiContent.budget?.recommended,"/day"]}),(0,e.jsx)(a,{tone:"subdued",children:n.aiContent.budget?.reasoning})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(a,{variant:"headingSm",as:"h4",children:"Key Messages"}),n.aiContent.keyMessages?.map((t,s)=>(0,e.jsxs)(a,{children:["\u2022 ",t]},s))]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(a,{variant:"headingSm",as:"h4",children:"Targeting Recommendations"}),(0,e.jsxs)(a,{children:["Age: ",n.aiContent.targeting?.demographics?.ageMin,"-",n.aiContent.targeting?.demographics?.ageMax]}),(0,e.jsxs)(a,{children:["Interests: ",n.aiContent.targeting?.interests?.join(", ")]})]})]})}),(0,e.jsxs)(g,{onClick:()=>Z(!p),children:[p?"Hide":"Show"," AI Content Details"]}),(0,e.jsxs)(C,{method:"post",children:[(0,e.jsx)("input",{type:"hidden",name:"_action",value:"create_campaign"}),(0,e.jsx)("input",{type:"hidden",name:"selectedProducts",value:JSON.stringify(d)}),(0,e.jsx)("input",{type:"hidden",name:"campaignName",value:u}),(0,e.jsx)("input",{type:"hidden",name:"campaignObjective",value:f}),(0,e.jsx)("input",{type:"hidden",name:"budget",value:k}),(0,e.jsx)("input",{type:"hidden",name:"aiContent",value:JSON.stringify(n.aiContent)}),(0,e.jsx)(b,{align:"end",children:(0,e.jsx)(g,{variant:"primary",submit:!0,loading:x,size:"large",children:x?"Creating Campaign...":"Create Facebook Campaign"})})]})]})})]})})})]})}export{z as default};
